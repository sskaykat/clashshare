# 🚀 快速启动指南

## 项目现在包含两种使用方式

### 方式一：命令行工具（原有功能）
适合一次性转换订阅

### 方式二：Web 管理界面（新增功能）
适合长期管理多个订阅和用户

---

## 💻 命令行工具使用

### 安装依赖
```bash
pip install -r requirements.txt
```

### 使用方法
```bash
# 转换订阅
python converter.py --url "订阅链接" --output config.yaml

# 查看帮助
python converter.py --help
```

**详细说明**: 查看 `README.md` 和 `QUICKSTART.md`

---

## 🌐 Web 管理界面使用

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动服务
```bash
python app.py
```

你会看到类似这样的输出：
```
============================================================
🚀 Clash Meta 订阅管理系统
============================================================
📡 访问地址: http://127.0.0.1:5000
👤 默认账号: admin / admin123
============================================================

 * Running on http://0.0.0.0:5000
```

### 3. 打开浏览器
访问: **http://127.0.0.1:5000**

### 4. 登录
- 用户名: `admin`
- 密码: `admin123`
- 勾选"记住我"可保持 7 天登录

### 5. 开始使用

#### 📡 第一步：添加订阅
1. 点击左侧菜单 "📡 订阅管理"
2. 点击 "➕ 添加订阅"
3. 输入订阅名称和链接
4. 系统自动解析节点

#### 🌐 第二步：管理节点（可选）
1. 点击左侧菜单 "🌐 节点管理"
2. 查看所有节点
3. 可以重命名节点
4. 可以手动添加单个节点

#### 👥 第三步：创建用户
1. 点击左侧菜单 "👥 用户管理"
2. 点击 "➕ 添加用户"
3. 输入用户名和密码
4. 系统生成订阅链接

#### 📌 第四步：分配节点
1. 在用户列表中点击 "📌 分配节点"
2. 勾选要分配的节点
3. 点击保存

#### 🔗 第五步：使用订阅
1. 复制用户的订阅链接
2. 在 Clash Meta 中添加订阅
3. 更新订阅即可使用

**详细说明**: 查看 `WEB_README.md` 和 `WEB_功能说明.md`

---

## 📊 功能对比

| 功能 | 命令行工具 | Web 界面 |
|------|----------|---------|
| 转换订阅 | ✅ | ✅ |
| 保存订阅链接 | ❌ | ✅ |
| 自动更新订阅 | ❌ | ✅ |
| 节点管理 | ❌ | ✅ |
| 重命名节点 | ❌ | ✅ |
| 用户管理 | ❌ | ✅ |
| 节点分配 | ❌ | ✅ |
| 用户订阅接口 | ❌ | ✅ |
| 适合场景 | 一次性转换 | 长期管理 |

---

## 🎯 使用建议

### 个人用户
- 一次性转换 → 使用命令行工具
- 长期使用多个订阅 → 使用 Web 界面

### 家庭/小团队
- 推荐使用 Web 界面
- 可以为每个人创建账号
- 统一管理所有订阅

### 小型代理服务
- 必须使用 Web 界面
- 支持多用户管理
- 灵活的节点分配

---

## ⚠️ 重要提示

### 首次使用 Web 界面
1. 默认管理员账号: `admin / admin123`
2. **登录后请立即修改密码**（未来版本会添加此功能）
3. 数据库文件: `clash_manager.db`
4. 定期备份数据库文件

### 网络访问
- 默认只能在本机访问 (127.0.0.1)
- 如需局域网访问，防火墙需开放 5000 端口
- 生产环境建议使用 Nginx 反向代理 + HTTPS

### 数据安全
- 订阅链接包含敏感信息
- 不要分享数据库文件
- 定期备份数据

---

## 🛠️ 常见问题

### Q: 如何在后台运行 Web 服务？

**Windows (使用 start)**:
```bash
start /B python app.py
```

**Linux/Mac (使用 nohup)**:
```bash
nohup python app.py > app.log 2>&1 &
```

**推荐使用 screen**:
```bash
screen -S clash
python app.py
# 按 Ctrl+A 再按 D 退出 screen
# 恢复: screen -r clash
```

### Q: 如何修改端口？

编辑 `app.py` 最后一行:
```python
app.run(debug=True, host='0.0.0.0', port=8080)  # 改为你想要的端口
```

### Q: 忘记管理员密码怎么办？

删除数据库文件重新开始:
```bash
del clash_manager.db  # Windows
rm clash_manager.db   # Linux/Mac
python app.py
```

### Q: 如何更新依赖？

```bash
pip install -r requirements.txt --upgrade
```

### Q: Web 界面无法访问？

检查：
1. 服务是否正常运行
2. 防火墙是否阻止 5000 端口
3. 浏览器控制台是否有错误

---

## 📚 文档导航

| 文档 | 说明 |
|------|------|
| `README.md` | 项目总览 |
| `QUICKSTART.md` | 命令行快速开始 |
| `WEB_README.md` | Web 界面详细说明 ⭐ |
| `WEB_功能说明.md` | Web 功能详细列表 |
| `PROTOCOL_EXAMPLES.md` | 协议格式说明 |
| `PROJECT_STRUCTURE.md` | 项目结构 |
| `更新日志.md` | 版本更新记录 |

---

## 🎉 开始使用

### 快速体验 Web 界面
```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 启动服务
python app.py

# 3. 打开浏览器访问
# http://127.0.0.1:5000

# 4. 使用默认账号登录
# 用户名: admin
# 密码: admin123
```

### 命令行一次性转换
```bash
python converter.py --url "https://your-subscription" --output config.yaml
```

---

**祝使用愉快！** 🎊

如有问题请查阅对应的详细文档。

